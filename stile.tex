%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Template Dispense
%
% Autore:
% Teo Bucci
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%----------------------------------------------------------------------------------------
%	FONTS
%----------------------------------------------------------------------------------------

\usepackage[T1]{fontenc} % Use 8-bit encoding that has 256 glyphs
\usepackage[utf8]{inputenc} % Required for including letters with accents
\usepackage{dsfont} % per funzione indicatrice

%----------------------------------------------------------------------------------------
%	VARIOUS REQUIRED PACKAGES AND CONFIGURATIONS
%----------------------------------------------------------------------------------------

\usepackage[italian]{babel} % Italian language/hyphenation

\usepackage{latexsym}

%\usepackage{amsmath,amsfonts,amssymb,amsthm} % For math equations, theorems, symbols, etc

%----------------------------------------------------------------------------------------
%	FIGURE MATHCHA
%----------------------------------------------------------------------------------------

\usepackage{amsmath}
%\usepackage[fleqn]{amsmath}  % per avere l'allineamento a sinistra delle equazioni
\usepackage{amssymb} % carica anche \usepackage{amsfonts}
\usepackage{amsthm}
\usepackage{tikz}
\usepackage{mathdots}
\usepackage{cancel}
\usepackage{color}
\usepackage{siunitx}
\usepackage{array}
\usepackage{multirow}
%\usepackage{gensymb} % The gensymb package provides a number of ‘generic’ macros, which produce the same output in text and math mode: \degree \celsius \perthousand \ohm \micro
\usepackage{makecell}
\usepackage{tabularx}
\usepackage{booktabs}
\usepackage{caption}\captionsetup{belowskip=12pt,aboveskip=4pt}
\usepackage{subcaption}
\usetikzlibrary{fadings}
\usetikzlibrary{patterns}
\usetikzlibrary{shadows.blur}
\usepackage{placeins} % The placeins package gives the command \FloatBarrier, which will make sure any floats will be put in before this point
\usepackage{flafter}  % The flafter package ensures that floats don't appear until after they appear in the code.
\usepackage{bigints}
\usepackage{needspace}

%----------------------------------------------------------------------------------------
%	INCLUSIONE FIGURE
%----------------------------------------------------------------------------------------

\usepackage{import}
\usepackage{pdfpages}
\usepackage{transparent}
\usepackage{xcolor}
\usepackage{graphicx}
\graphicspath{ {./images/} } % Path relative to the main .tex file
\usepackage{float}

\newcommand{\fg}[3][\relax]{%
  \begin{figure}[htpb]%
    \centering
    \captionsetup{width=\textwidth}
      \includegraphics[width = #2\textwidth]{#3}%
      \ifx\relax#1\else\caption{#1}\fi
      \label{#3}
  \end{figure}%
}

%----------------------------------------------------------------------------------------
%	PARAGRAFI, INTERLINEA E MARGINE
%----------------------------------------------------------------------------------------

\usepackage[none]{hyphenat} % Per non far andare a capo le parole con il trattino

\emergencystretch 3em % Per evitare che il testo vada oltre i margini

% \parindent 0ex % TOGLIE INTENDAMENTO PARAGRAFI, E' INCLUSO NEL PACCHETTO \parskip
% \setlength{\parindent}{4em} % VARIANTE DI QUELLO SOPRA

% \setlength{\parskip}{\baselineskip} % CAMBIA SPAZIO TRA PARAGRAFI (POSSO METTERE ANCHE 1em) INCLUSA LA TABLE OF CONTENTS, PERTANTO USO IL COMANDO CHE SEGUE

\usepackage[skip=0.2\baselineskip+2pt]{parskip}

% \renewcommand{\baselinestretch}{1.5} % CAMBIA INTERLINEA

%----------------------------------------------------------------------------------------
%	HEADERS AND FOOTERS
%----------------------------------------------------------------------------------------

\usepackage{fancyhdr}

\pagestyle{empty} % Il fancy serve a partire al primo capitolo
\fancyhead{} % Pulisci header
\fancyfoot{} % Pulisci footer

\fancyhead[RE]{\nouppercase{\leftmark}}
%\fancyhead[LO]{\emph{Trascrizioni di Teo Bucci}}
\fancyhead[LO]{\nouppercase{\rightmark}}
\fancyhead[LE,RO]{\thepage}

% Removes the header from odd empty pages at the end of chapters
\makeatletter
\renewcommand{\cleardoublepage}{
\clearpage\ifodd\c@page\else
\hbox{}
\vspace*{\fill}
\thispagestyle{empty}
\newpage
\fi}

%----------------------------------------------------------------------------------------
%	COMANDI PERSONALIZZATI
%----------------------------------------------------------------------------------------

\newcommand{\myNewEmptyPage}{\newpage $ $}
\newcommand{\sgn}{\mathop{\mathrm{sgn}}} % segno di funzione
%\renewcommand{\epsilon}{\varepsilon}
%\renewcommand{\theta}{\vartheta}
%\renewcommand{\rho}{\varrho}
%\renewcommand{\phi}{\varphi}
\newcommand{\degree}{^\circ\text{C}} % SIMBOLO GRADI
\newcommand{\notimplies}{\mathrel{{\ooalign{\hidewidth$\not\phantom{=}$\hidewidth\cr$\implies$}}}}
\renewcommand{\qed}{\tag*{$\blacksquare$}}
\newcommand{\latex}{\LaTeX\xspace}
\newcommand{\tex}{\TeX\xspace}
\newcommand{\questeq}{\overset{?}{=}} % è vero che?
\renewcommand{\leqslant}{\leq}
\renewcommand{\geqslant}{\geq}
\newcommand{\complementary}{^{\mathrm{C}}}
\renewcommand{\emptyset}{\varnothing} % simbolo insieme vuoto
\newcommand{\Bot}{\perp \!\!\! \perp} % indipendenza
\newcommand{\boxedText}[1]{\noindent\fbox{\parbox{\textwidth}{#1}}}

\usepackage{mathtools} % Serve per i due comandi dopo
\DeclarePairedDelimiter{\abs}{\lvert}{\rvert} % CREA UN COMANDO abs()
\DeclarePairedDelimiter{\norma}{\lVert}{\rVert} % CREA UN COMANDO norma()

%----------------------------------------------------------------------------------------
%	INDICE INIZIALE
%----------------------------------------------------------------------------------------

\setcounter{secnumdepth}{3} % DI DEFAULT LE SUBSUBSECTION NON SONO NUMERATE, COSÌ SÌ
\setcounter{tocdepth}{2} % FISSA LA PROFONDITÀ DELLE COSE MOSTRATE NELL'INDICE

\usepackage[hidelinks]{hyperref} % Rende l'indice interattivo e hidelinks nasconde il bordo rosso dai riferimenti

\newcommand{\nocontentsline}[3]{} % QUESTO COMANDO E QUELLO DOPO SERVONO PER AVERE IL COMANDO \tocless DA METTERE PRIMA DI UNA SEZIONE CHE NON VOGLIO FAR APPARIRE NELL'INDICE
\newcommand{\tocless}[2]{\bgroup\let\addcontentsline=\nocontentsline#1{#2}\egroup}


%----------------------------------------------------------------------------------------
%	APPENDICE
%----------------------------------------------------------------------------------------

\usepackage[toc,page]{appendix}

%----------------------------------------------------------------------------------------
%	SIMBOLI CARTE DA GIOCO
%
% Sono i seguenti:
%   \varheartsuit
%   \vardiamondsuit
%   \clubsuit
%   \spadesuit
%----------------------------------------------------------------------------------------

\DeclareSymbolFont{extraup}{U}{zavm}{m}{n}
\DeclareMathSymbol{\varheartsuit}{\mathalpha}{extraup}{86}
\DeclareMathSymbol{\vardiamondsuit}{\mathalpha}{extraup}{87}


%----------------------------------------------------------------------------------------
%----------------------------------------------------------------------------------------
%----------------------------------------------------------------------------------------
%----------------------------------------------------------------------------------------
%----------------------------------------------------------------------------------------
%----------------------------------------------------------------------------------------
%----------------------------------------------------------------------------------------
%----------------------------------------------------------------------------------------
%----------------------------------------------------------------------------------------
%----------------------------------------------------------------------------------------
%%%% TESTING

\definecolor{grey}{RGB}{245,245,245}


\newtheoremstyle{blacknumbox} % Theorem style name
{0pt}% Space above
{0pt}% Space below
{\normalfont}% Body font
{}% Indent amount
{\bf\scshape}% Theorem head font --- {\small\bf}
{.\;}% Punctuation after theorem head
{0.25em}% Space after theorem head
{\small\thmname{#1}\nobreakspace\thmnumber{\@ifnotempty{#1}{}\@upn{#2}}% Theorem text (e.g. Theorem 2.1)
%{\small\thmname{#1}% Theorem text (e.g. Theorem)
\thmnote{\nobreakspace\the\thm@notefont\normalfont\bfseries---\nobreakspace#3}}% Optional theorem note



\newcounter{dummy}
\numberwithin{dummy}{chapter}


\theoremstyle{blacknumbox}
\newtheorem{definitionT}[dummy]{Definizione}
\newtheorem{NBT}[dummy]{NB}
\newtheorem{theoremT}[dummy]{Teorema}
\newtheorem{ossT}[dummy]{Osservazione}
\newtheorem{ricalgT}[dummy]{Richiamo di Algebra}
\newtheorem{pseudocodiceT}[dummy]{Pseudocodice}
\newtheorem{corollarioT}[dummy]{Corollario}
\newtheorem{lemmaT}[dummy]{Lemma}
\newtheorem{dimT}[dummy]{Dimostrazione}



\RequirePackage[framemethod=default]{mdframed} % Required for creating the theorem, definition, exercise and corollary boxes

\usepackage{lipsum}



% orange box
\newmdenv[skipabove=7pt,
skipbelow=7pt,
rightline=false,
leftline=true,
topline=false,
bottomline=false,
linecolor=orange,
backgroundcolor=orange!5,
innerleftmargin=5pt,
innerrightmargin=5pt,
innertopmargin=5pt,
leftmargin=0cm,
rightmargin=0cm,
linewidth=2pt,
innerbottommargin=5pt]{oBox}

% green box
\newmdenv[skipabove=7pt,
skipbelow=7pt,
rightline=false,
leftline=true,
topline=false,
bottomline=false,
linecolor=green,
backgroundcolor=green!5,
innerleftmargin=5pt,
innerrightmargin=5pt,
innertopmargin=5pt,
leftmargin=0cm,
rightmargin=0cm,
linewidth=2pt,
innerbottommargin=5pt]{gBox}

% blue box
\newmdenv[skipabove=7pt,
skipbelow=7pt,
rightline=false,
leftline=true,
topline=false,
bottomline=false,
linecolor=blue,
backgroundcolor=blue!5,
innerleftmargin=5pt,
innerrightmargin=5pt,
innertopmargin=5pt,
leftmargin=0cm,
rightmargin=0cm,
linewidth=2pt,
innerbottommargin=5pt]{bBox}

% b&w box
\newmdenv[skipabove=7pt,
skipbelow=7pt,
rightline=false,
leftline=true,
topline=false,
bottomline=false,
linecolor=black,
%backgroundcolor=grey!70,
innerleftmargin=5pt,
innerrightmargin=5pt,
innertopmargin=5pt,
leftmargin=0cm,
rightmargin=0cm,
linewidth=2pt,
innerbottommargin=5pt]{bwBox}

\newenvironment{theorem}{\begin{bwBox}\begin{theoremT}}{\end{theoremT}\end{bwBox}}
\newenvironment{definition}{\begin{bwBox}\begin{definitionT}}{\end{definitionT}\end{bwBox}}
\newenvironment{nb}{\begin{bwBox}\begin{NBT}}{\end{NBT}\end{bwBox}}
\newenvironment{oss}{\begin{bwBox}\begin{ossT}}{\end{ossT}\end{bwBox}}
\newenvironment{ricalg}{\begin{bwBox}\begin{ricalgT}}{\end{ricalgT}\end{bwBox}}
\newenvironment{pseudocode}{\begin{bwBox}\begin{pseudocodiceT}}{\end{pseudocodiceT}\end{bwBox}}
\newenvironment{corollario}{\begin{bwBox}\begin{corollarioT}}{\end{corollarioT}\end{bwBox}}
\newenvironment{lemma}{\begin{bwBox}\begin{lemmaT}}{\end{lemmaT}\end{bwBox}}
\newenvironment{dimostrazione}{\begin{bwBox}\begin{dimT}}{\[\qed\]\end{dimT}\end{bwBox}}

\newenvironment{algo}{
	\begin{bwBox}
		\begin{algorithm}[H]
	}{
    	\end{algorithm}
	\end{bwBox}
	}










% pseudocodici
\usepackage[linesnumbered,ruled,italiano]{algorithm2e}
\DontPrintSemicolon
\setlength{\algomargin}{0.5cm}
% per azzerare le linee di "ruled", lo faccio così la caption sta a sinistra in alto
\setlength{\algoheightrule}{0pt}
\setlength{\algotitleheightrule}{0pt}
% per lo stile del titolo "Algoritmo X:..." uniforme agli altri box
\SetAlCapFnt{\bf\scshape}

%% comandi pratici
% d nell'integrale
\newcommand{\de}{\mathrm d}
\newcommand{\dx}{\de x}
\newcommand{\dy}{\de y}
\newcommand{\ds}{\de s}
\newcommand{\dt}{\de t}
\newcommand{\textqed}{\hfill$\blacksquare$}
